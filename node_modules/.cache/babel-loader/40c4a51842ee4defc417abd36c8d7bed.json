{"ast":null,"code":"export const sendMessage = message => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firebase = getFirebase();\n    const firestore = firebase.firestore();\n    const auth = firebase.auth();\n    const {\n      uid,\n      photoUrl\n    } = auth;\n    firestore.collection('messages').add({\n      content: message,\n      uid,\n      photoUrl,\n      createAt: firebase.firestore.FieldValue.serverTimestamp()\n    }).then(res => {\n      console.log(res);\n      dispatch({\n        type: 'MESSAGE_SENT'\n      });\n    }).catch(err => {\n      console.error(err);\n      dispatch({\n        type: 'MESSAGE_ERROR'\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/joaquim/internship/superchat/src/store/actions/chatActions.js"],"names":["sendMessage","message","dispatch","getState","getFirebase","getFirestore","firebase","firestore","auth","uid","photoUrl","collection","add","content","createAt","FieldValue","serverTimestamp","then","res","console","log","type","catch","err","error"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAIC,OAAD,IAAa;AACpC,SAAO,CAAEC,QAAF,EAAYC,QAAZ,EAAsB;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,GAAtB,KAAwD;AAE3D,UAAMC,QAAQ,GAAGF,WAAW,EAA5B;AACA,UAAMG,SAAS,GAAGD,QAAQ,CAACC,SAAT,EAAlB;AACA,UAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAT,EAAb;AAEA,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAoBF,IAA1B;AAEAD,IAAAA,SAAS,CAACI,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,CAAqC;AACjCC,MAAAA,OAAO,EAAEZ,OADwB;AAEjCQ,MAAAA,GAFiC;AAGjCC,MAAAA,QAHiC;AAIjCI,MAAAA,QAAQ,EAAER,QAAQ,CAACC,SAAT,CAAmBQ,UAAnB,CAA8BC,eAA9B;AAJuB,KAArC,EAKGC,IALH,CAKSC,GAAG,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAhB,MAAAA,QAAQ,CAAC;AAACmB,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAR;AACH,KARD,EAQGC,KARH,CAQUC,GAAG,IAAI;AACbJ,MAAAA,OAAO,CAACK,KAAR,CAAcD,GAAd;AACArB,MAAAA,QAAQ,CAAC;AAAEmB,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACH,KAXD;AAYH,GApBD;AAqBH,CAtBM","sourcesContent":["export const sendMessage = (message) => {\n    return ( dispatch, getState, { getFirebase, getFirestore }) => {\n\n        const firebase = getFirebase();\n        const firestore = firebase.firestore();\n        const auth = firebase.auth();\n\n        const { uid, photoUrl } = auth;\n\n        firestore.collection('messages').add({\n            content: message,\n            uid,\n            photoUrl,\n            createAt: firebase.firestore.FieldValue.serverTimestamp(),\n        }).then( res => {\n            console.log(res);\n            dispatch({type: 'MESSAGE_SENT'});\n        }).catch( err => {\n            console.error(err);\n            dispatch({ type: 'MESSAGE_ERROR'})\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}