{"ast":null,"code":"import _slicedToArray from\"/home/joaquim/internship/superchat/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/joaquim/internship/superchat/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    flex: 0 10vw;\\n    color: lightgreen;\\n    font-size: 2em;\\n    background-color: #262d31;\\n    border: none;\\n    &: disabled {\\n        opacity: 0.2;\\n        color: lightgrey;\\n        cursor: not-allowed;\\n    }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    flex: 1;\\n    font-size: 1em;\\n    background-color: #33383b;\\n    color: white;\\n    padding: 0px 20px;\\n    border:none;\\n    border-radius: 100px;\\n    margin: 20px 0px;\\n    margin-left: 40px;\\n    &: focus {\\n        outline: none;\\n    }\\n    &: disabled {\\n        cursor: not-allowed;\\n    }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    display: flex;\\n    height: 10vh;\\n    background-color: lightgreen;\\n    bottom: 0;\\n    width: 100%;\\n    position: fixed;\\n    background-color: #262d31;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import{sendMessage}from\"../store/actions/chatActions\";import{connect}from'react-redux';import{useFirebase}from\"react-redux-firebase\";import styled from\"@emotion/styled\";var Form=styled.form(_templateObject());var Input=styled.input(_templateObject2());var Button=styled.button(_templateObject3());var NewMessageFrom=function NewMessageFrom(_ref){var send=_ref.send,isIn=_ref.isIn,marker=_ref.marker;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var auth=useFirebase().auth();var sendMessage=function sendMessage(){console.log(input);if(auth.currentUser){send(input);setInput('');marker.current.scrollIntoView({behavior:'smooth'});}};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(e.target);sendMessage();};var handleImage=function handleImage(e){var url=URL.createObjectURL(e.target.files[0]);send(url);marker.current.scrollIntoView({behavior:'smooth'});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,disabled:!isIn,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:function onChange(e){console.log('input changed');setInput(e.target.value);},value:input,disabled:!isIn}),/*#__PURE__*/_jsx(\"input\",{type:'file',accept:\"image/png, image/jpeg\",onChange:handleImage,name:'file'}),/*#__PURE__*/_jsx(Button,{disabled:!input,children:\"\\u27A1\"})]})});};var mapStateToProps=function mapStateToProps(state){return{isIn:state.auth.isAuthenticated};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{send:function send(message){return dispatch(sendMessage(message));}};};export default connect(mapStateToProps,mapDispatchToProps)(NewMessageFrom);","map":{"version":3,"sources":["/home/joaquim/internship/superchat/src/components/NewMessageForm.js"],"names":["React","useState","sendMessage","connect","useFirebase","styled","Form","form","Input","input","Button","button","NewMessageFrom","send","isIn","marker","setInput","auth","console","log","currentUser","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","target","handleImage","url","URL","createObjectURL","files","value","mapStateToProps","state","isAuthenticated","mapDispatchToProps","dispatch","message"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {sendMessage} from \"../store/actions/chatActions\";\nimport {connect} from 'react-redux'\nimport {useFirebase} from \"react-redux-firebase\";\nimport styled from \"@emotion/styled\";\n\nconst Form = styled.form`\n    display: flex;\n    height: 10vh;\n    background-color: lightgreen;\n    bottom: 0;\n    width: 100%;\n    position: fixed;\n    background-color: #262d31;\n`\n\nconst Input = styled.input`\n    flex: 1;\n    font-size: 1em;\n    background-color: #33383b;\n    color: white;\n    padding: 0px 20px;\n    border:none;\n    border-radius: 100px;\n    margin: 20px 0px;\n    margin-left: 40px;\n    &: focus {\n        outline: none;\n    }\n    &: disabled {\n        cursor: not-allowed;\n    }\n`\n\nconst Button = styled.button`\n    flex: 0 10vw;\n    color: lightgreen;\n    font-size: 2em;\n    background-color: #262d31;\n    border: none;\n    &: disabled {\n        opacity: 0.2;\n        color: lightgrey;\n        cursor: not-allowed;\n    }\n`\n\nconst NewMessageFrom = ({ send, isIn, marker }) => {\n\n    const [input, setInput] = useState('');\n    const auth = useFirebase().auth();\n\n    const sendMessage = () => {\n        console.log(input)\n        if (auth.currentUser) {\n            send(input);\n            setInput('');\n            marker.current.scrollIntoView({ behavior: 'smooth'});\n        }\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        console.log(e.target)\n        sendMessage()\n    }\n\n    const handleImage = e => {\n        const url = URL.createObjectURL(e.target.files[0]);\n        send(url)\n        marker.current.scrollIntoView({ behavior: 'smooth'});\n    }\n\n    return (\n        <>\n            <Form onSubmit={handleSubmit} disabled={!isIn}>\n                <Input\n                    type=\"text\"\n                    onChange={(e) => {\n                        console.log('input changed')\n                        setInput(e.target.value)\n                    }}\n                    value={input}\n                    disabled={!isIn}\n                />\n                <input type={'file'} accept=\"image/png, image/jpeg\" onChange={handleImage} name={'file'} />\n                <Button disabled={!input}>âž¡</Button>\n            </Form>\n        </>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isIn: state.auth.isAuthenticated,\n    };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        send: (message) => dispatch(sendMessage(message))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewMessageFrom)"]},"metadata":{},"sourceType":"module"}