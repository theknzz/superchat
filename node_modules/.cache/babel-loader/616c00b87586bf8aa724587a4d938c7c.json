{"ast":null,"code":"export const sendMessage = message => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firebase = getFirebase();\n    const firestore = getFirestore();\n    const auth = firebase.auth();\n    const {\n      uid,\n      photoUrl\n    } = auth;\n    firestore.collection('messages').add({\n      content: message,\n      uid,\n      photoUrl,\n      createAt: firebase.firestore.FieldValue.serverTimestamp()\n    }).then(dispatch({\n      type: 'MESSAGE_SENT'\n    })).catch(dispatch({\n      type: 'MESSAGE_NOT_SENT'\n    }));\n  };\n};","map":{"version":3,"sources":["/home/joaquim/internship/superchat/src/store/actions/chatActions.js"],"names":["sendMessage","message","dispatch","getState","getFirebase","getFirestore","firebase","firestore","auth","uid","photoUrl","collection","add","content","createAt","FieldValue","serverTimestamp","then","type","catch"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAIC,OAAD,IAAa;AACpC,SAAO,CAAEC,QAAF,EAAYC,QAAZ,EAAsB;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,GAAtB,KAAwD;AAE3D,UAAMC,QAAQ,GAAGF,WAAW,EAA5B;AACA,UAAMG,SAAS,GAAGF,YAAY,EAA9B;AACA,UAAMG,IAAI,GAAGF,QAAQ,CAACE,IAAT,EAAb;AAEA,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAoBF,IAA1B;AAEAD,IAAAA,SAAS,CAACI,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,CAAqC;AACjCC,MAAAA,OAAO,EAAEZ,OADwB;AAEjCQ,MAAAA,GAFiC;AAGjCC,MAAAA,QAHiC;AAIjCI,MAAAA,QAAQ,EAAER,QAAQ,CAACC,SAAT,CAAmBQ,UAAnB,CAA8BC,eAA9B;AAJuB,KAArC,EAKGC,IALH,CAMIf,QAAQ,CAAC;AAAEgB,MAAAA,IAAI,EAAE;AAAR,KAAD,CANZ,EAOEC,KAPF,CAQIjB,QAAQ,CAAC;AAAEgB,MAAAA,IAAI,EAAE;AAAR,KAAD,CARZ;AAUH,GAlBD;AAmBH,CApBM","sourcesContent":["export const sendMessage = (message) => {\n    return ( dispatch, getState, { getFirebase, getFirestore }) => {\n\n        const firebase = getFirebase();\n        const firestore = getFirestore();\n        const auth = firebase.auth();\n\n        const { uid, photoUrl } = auth;\n\n        firestore.collection('messages').add({\n            content: message,\n            uid,\n            photoUrl,\n            createAt: firebase.firestore.FieldValue.serverTimestamp(),\n        }).then(\n            dispatch({ type: 'MESSAGE_SENT'})\n        ).catch(\n            dispatch({ type: 'MESSAGE_NOT_SENT'})\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}